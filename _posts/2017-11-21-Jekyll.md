---
layout: post
title: Working with Jekyll
---

Thoughts of what I learned from working with Jekyll and Github Pages while building this site.

<div class="toc" markdown="1">
<!-- Set class to title-->
  <h3>Table of Contents</h3>
  {:.toc-title}
  * TOC
  {:toc}
</div>
---
## Introduction

So for a while now I wanted to build a website, but I didn't wanted to settle with the old Wordpress (WP) solution.
I understand that WP dominates the Internet but I just wanted to try something different.

> __Note:__ I know there might be other solutions besides WP that are viable alternatives, but I am slightly more familiar with WP than any other solutions to make a value judgment.

I had a few things I wanted:

* Simple to deploy and host
* It should be customizable and I can make it look however I wanted
* Cheap or free to host

While those are true for WP (or other frameworks) I wanted to experiment with Jekyll since it is __FREE__ to host your website in Github and a lot of open source projects use it.

The are no requirements to [Github pages](https://pages.github.com/) you could generate your own HTML and point your page to that branch. However [Jekyll](https://jekyllrb.com/docs/home/) has native support and gives you a lot of flexibility of how to organize your page. Also, you can just add blog posts/entries in markdown that gets transformed into HTML making it easy to write and not worry about anything else.

To use Github Pages there are a couple of requirements:

* Know how git/github works
* Have a basic understanding of how HTML, CSS and YAML files are structured/work.
* Knowing Markdown is a huge plus (In my opinion everyone should learn [Markdown](https://guides.github.com/features/mastering-markdown/), but that's just me).

## Setup

So I don't wanna repeat the docs of this. There are several guides and [Jekyll](https://jekyllrb.com/docs/home/) has a large community plus documentation that can be explored to achieve almost anything. What I will focus on is the extra stuff that is not documented or the things I found interesting.

There is a lot of info and themes that are used to generate Jekyll pages. At first I started using a custom theme, but found how this could complicate in the future so I decided to strip it to the bare minimum and only keep the features that I liked or was going to use.

Everything you need to provide to Jekyll is in the `_config.yml` at the root of the project (Also called Front Matter). From there you can include/exclude files or work with the plugins that are provided via GH Pages (not all plugins are available).

It is worth to note that the front matter should be included in individual files that you want Jekyll to process. Otherwise they will be parse-able and accessible thought the HTML server.

More info about the configurations is found in the [docs](https://jekyllrb.com/docs/configuration/#configuration-settings)

My `_config.yml` file more or less looks like this:

```yaml
# These are global variables that can be accessed by the page object (ie. page.title)
title: MonkeyPatch
author: ddaza

# nested globals used
social:
  github: ddaza

url: https://www.monkeypatch.xyz

# the permalink can be used to organize the routing of your site
# generated by the Posts or blog entries
permalink: /blog/:year/:month/:title

# Markdown flavor used
markdown: kramdown

# Build settings for highlighting code.
# I modified a copy of the Monokai theme and added it to my CSS generated file
highlighter: rouge

# SASS parsing
sass:
  style: compressed

autoprefixer:
  browsers:
  - last 2 versions

# Use the following plug-ins
plugins:
  - jekyll-sitemap # seo stuff
  - jekyll-feed  # rss
  - jekyll-autoprefixer # sass

# My folder structure is non standard (Jekyll uses a specific file structure to generate the site)
# So I had to include the '_pages' folder so it is parsed and interpreted
include:
  - _pages

# Exclude these files from your site
exclude:
  - Gemfile
  - Gemfile.lock
  - LICENSE
  - README.md
  - CNAME

```
## Setting up SSL and HTTPS

I am assuming that you have purchased a custom domain and wanna set SSL to that domain.
For using SSL on github.io pages is as easy as flip of a [switch](https://help.github.com/articles/securing-your-github-pages-site-with-https/).

This was one of the easiest parts of the setup process. There are several ways to do this on your own.

You could:

* Pay your domain host (the people that sold you your custom domain name) to provide you with an SSL certificate.
* Generate a certificate for free with 'Let's Encrypt' and host it with your domain name.
* OR, Use a proxy/cashing service like CloudFlare for your website.

I used the last option because my domain host does not allow you to host your own certificate and I was not going to pay lots of money for it.

Thankfully there are a lot of helpful articles from CloudFlare and other blogs that get this in detail. I will include some here:

- [https://blog.cloudflare.com/secure-and-fast-github-pages-with-cloudflare/](https://blog.cloudflare.com/secure-and-fast-github-pages-with-cloudflare/)
- [https://www.jonathan-petitcolas.com/2017/01/13/using-https-with-custom-domain-name-on-github-pages.html](https://www.jonathan-petitcolas.com/2017/01/13/using-https-with-custom-domain-name-on-github-pages.html)

As for the 'Let's Encrypt' there are lots of resources all over the web. Here are some I found with a quick search:

- [https://letsencrypt.org/getting-started/](https://letsencrypt.org/getting-started/)
- [https://gist.github.com/coolaj86/e07d42f5961c68fc1fc8](https://gist.github.com/coolaj86/e07d42f5961c68fc1fc8)

_Keep in mind I don't use 'Let's Encrypt' so I cannot speak of the accuracy of these_

## Markup

The first thing to understand is that Jekyll wont parse/interpret your files unless you specifically tell it to. Otherwise your files are served as plaint text files that the browser would interpret on the other side of the wire. Or they will be ignored if you put them inside a folder with

The way to make Jekyll care for your files is by using the [Front Matter](https://jekyllrb.com/docs/static-files/#add-front-matter-to-static-files)

Here is an example from my site

```html
---
layout: default
custom-class: page
title: Some page
---
{% raw %}
<div class="page grid-container">
  {% if page.subtitle %}
  <div class="with-subtitle">
    <h1>{{ page.title }}</h1>
    <i> {{ page.subtitle }} </i>
  </div>
  {% else %}
    <h1>{{ page.title }}</h1>
  {% endif %}
  {{ content }}
</div>
{% endraw %}
```

The Front Matter is the `---` two dash lines. In between them you can add variables for the [Liquid](https://shopify.github.io/liquid/) template to use and access. Most variables will be under the `page` object but the global ones will be in the `site` object.

Some other variables are specific to Jekyll or its plugins like `layout` which specifies the layout template that should be used to render this file.

More on the docs about [layouts, other variables](https://jekyllrb.com/docs/frontmatter/#predefined-global-variables) and [folder structure](https://jekyllrb.com/docs/structure/).

The same works for SASS and JS. There is even support for CoffeeScript for those who like that sort of thing.

[Here](https://jekyllrb.com/docs/plugins/#available-plugins) is a list of plugins that are supported.

## Conclusion

Making a site with Github Pages was surprisingly easy and painless. It is even easier if you choose a theme and work around it to display your content. For me the majority of the work was styling and understanding the Jekyll intricacies.

I would definitely recommend anyone to try it and have a website hosted for free.

If you're curious of how I structured my site or the complete configs [here](https://github.com/monkeypatch-xyz/monkeypatch-xyz.github.io) is the repo of it.
